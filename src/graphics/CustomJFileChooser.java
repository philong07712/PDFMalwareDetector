package graphics;

import Service.Constants;

import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.io.File;

public class CustomJFileChooser extends JPanel implements ActionListener {
    JFileChooser chooser;
    String chooserTitle;
    GUIMain gui;
    public CustomJFileChooser(GUIMain gui) {
//        btnGo = new JButton("Choose Watch Folder");
//        btnGo.addActionListener(this);
//        add(btnGo);
        this.gui = gui;
    }

    public Dimension getPreferredSize() {
        return new Dimension(200, 200);
    }


    @Override
    public void actionPerformed(ActionEvent e) {
        chooser = new JFileChooser();
        chooser.setCurrentDirectory(new File(Constants.watchPath));
        chooser.setDialogTitle(chooserTitle);
        chooser.setFileSelectionMode(JFileChooser.FILES_AND_DIRECTORIES);
        chooser.setAcceptAllFileFilterUsed(false);

        if (chooser.showOpenDialog(this) == JFileChooser.APPROVE_OPTION) {
            gui.addLog("getCurrentDirectory(): " + chooser.getSelectedFile().getAbsolutePath());
            Constants.watchPath = chooser.getSelectedFile().getAbsolutePath();
            gui.updateLabel();
        } else {
            System.out.println("No selection");
        }
    }
}
